{{/* Header with responsive navigation and theme toggle - using CSS variables */}}
<header style="padding: var(--space-6) var(--space-6); border-bottom: 1px solid var(--color-border);">
  <div class="header-container" style="max-width: 100%; margin-left: auto; margin-right: auto; padding-left: 1rem; padding-right: 1rem; display: flex; align-items: center; justify-content: space-between;">
    {{/* Site title/logo */}}
    <div>
      <a href="{{ .Site.BaseURL | relURL }}" 
         class="site-title-link"
         style="font-size: var(--text-2xl); font-weight: var(--font-bold); color: var(--color-heading); text-decoration: none; transition: color var(--transition-fast);">
        {{ .Site.Title }}
      </a>
    </div>

    <div style="display: flex; align-items: center; gap: var(--space-6);">
      {{/* Desktop navigation */}}
      <div class="nav-desktop">
        {{ partial "navigation-menu.html" . }}
      </div>

      {{/* Theme toggle button */}}
      {{ partial "theme-toggle.html" . }}

      {{/* Mobile hamburger button */}}
      <div class="nav-mobile">
        <button id="mobile-menu-toggle" 
                class="mobile-menu-toggle focus-visible"
                aria-label="Open main menu" 
                aria-controls="mobile-menu" 
                aria-expanded="false"
                style="background: none; border: 1px solid var(--color-border); border-radius: var(--radius); padding: var(--space-2); cursor: pointer; color: var(--color-text); transition: all var(--transition-fast); width: 2.5rem; height: 2.5rem; display: flex; align-items: center; justify-content: center;">
          <svg class="menu-icon" style="width: 1.25rem; height: 1.25rem;" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
          <svg class="close-icon hidden" style="width: 1.25rem; height: 1.25rem;" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>
    </div>
  </div>

  {{/* Mobile menu panel (default hidden) */}}
  <div id="mobile-menu" 
       class="mobile-menu hidden"
       aria-hidden="true"
       aria-labelledby="mobile-menu-toggle"
       style="margin-top: var(--space-4); padding-top: var(--space-4); border-top: 1px solid var(--color-border);">
    {{ partial "navigation-menu.html" (dict "context" . "mobile" true) }}
  </div>
</header>

{{/* Responsive CSS */}}
<style>
  /* Default: hide mobile navigation, show desktop */
  .nav-mobile {
    display: none !important;
  }
  
  .nav-desktop {
    display: flex !important;
    align-items: center;
  }
  
  /* Mobile: hide desktop navigation, show mobile */
  @media (max-width: 768px) {
    .nav-desktop {
      display: none !important;
    }
    .nav-mobile {
      display: flex !important;
      align-items: center;
    }
  }
  
  /* Mobile menu styles */
  .mobile-menu.hidden {
    display: none !important;
  }
  
  .mobile-menu {
    display: block;
  }
</style>